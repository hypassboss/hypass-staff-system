<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HYPASS | ä¼æ¥­æŒ‡æ®ä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body { background: #f8fafc; -webkit-tap-highlight-color: transparent; }
        .tab-content { display: none; } .tab-content.active { display: block; animation: fadeIn 0.3s ease-in-out; } 
        @keyframes fadeIn { from{opacity:0; transform: translateY(5px);} to{opacity:1; transform: translateY(0);} } 
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .glass-panel { background: #ffffff; border-radius: 1.5rem; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01); border: 1px solid #e2e8f0; }
        .admin-input { width: 100%; padding: 0.875rem; border: 1px solid #cbd5e1; border-radius: 0.75rem; font-size: 0.875rem; transition: all 0.2s; }
        .admin-input:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .modal { display: none; } .modal.active { display: flex; z-index: 100; }
        .dt-btn.active { background-color: #0284c7; color: white; }
    </style>
</head>
<body class="text-slate-800 font-sans min-h-screen md:h-screen md:overflow-hidden md:flex bg-slate-50">

    <div id="login-box" class="flex flex-col items-center justify-center min-h-screen px-5 md:w-full">
        <div class="glass-panel p-8 w-full max-w-sm text-center">
            <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl shadow-inner">ğŸ‘‘</div>
            <h2 class="text-2xl font-black mb-2 text-slate-800">æœ€é«˜æ¬Šé™é©—è­‰</h2>
            <p class="text-xs text-slate-500 mb-6">è«‹è¼¸å…¥ç®¡ç†é‡‘é‘°è§£é–æŒ‡æ®ä¸­å¿ƒ</p>
            <input type="password" id="pin" placeholder="PIN CODE" class="admin-input text-center text-2xl tracking-[0.5em] mb-6 bg-slate-50 font-black text-slate-700" onkeypress="if(event.key==='Enter') login()">
            <button onclick="login()" class="w-full bg-slate-900 text-white font-black py-4 rounded-xl shadow-lg active:scale-95 transition-transform">é©—è­‰ä¸¦ç™»å…¥</button>
        </div>
    </div>

    <div id="dashboard-ui" class="hidden flex-col md:flex-row h-screen w-full md:overflow-hidden">
        <header class="md:hidden bg-gradient-to-r from-slate-900 to-slate-800 text-white p-5 flex justify-between items-center shadow-lg sticky top-0 z-50 shrink-0">
            <div><h1 class="text-xl font-black italic tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-indigo-300">HYPASS</h1><span class="text-[9px] text-slate-400 tracking-[0.2em] uppercase font-bold">Admin Portal</span></div>
            <button onclick="location.reload()" class="text-[10px] bg-white/10 border border-white/20 hover:bg-red-500 hover:border-red-500 px-3 py-1.5 rounded-full font-bold transition-all">å®‰å…¨ç™»å‡º</button>
        </header>

        <aside class="hidden md:flex w-64 bg-slate-900 text-white flex-col h-full shadow-2xl shrink-0 z-20">
            <div class="p-6 pb-2 border-b border-slate-800 mb-4"><h1 class="text-2xl font-black italic tracking-wider text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-indigo-300">HYPASS</h1><span class="text-[10px] text-slate-400 tracking-[0.2em] uppercase font-bold">Admin Dashboard</span></div>
            <nav class="flex-1 px-4 space-y-2">
                <button onclick="st('pend')" id="dt-pend" class="dt-btn active w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ”´</span> å¾…è¾¦å¯©æ ¸</button>
                <button onclick="st('pay')" id="dt-pay" class="dt-btn w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ’°</span> è–ªè³‡ç™¼æ”¾</button>
                <button onclick="st('emps')" id="dt-emps" class="dt-btn w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ‘¥</span> å“¡å·¥ç¸½è¡¨/é›¢è·</button>
                <button onclick="st('att')" id="dt-att" class="dt-btn w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ“‹</span> å‡ºå‹¤ç´€éŒ„å¤§ç›¤</button>
                <button onclick="st('brs')" id="dt-brs" class="dt-btn w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ“</span> ä¼æ¥­æ“šé»ç®¡ç†</button>
                <button onclick="st('bull')" id="dt-bull" class="dt-btn w-full text-left px-4 py-3.5 rounded-xl font-bold flex items-center transition text-slate-400 hover:text-white hover:bg-slate-800"><span class="mr-3 text-xl">ğŸ“¢</span> ç³»çµ±å…¬å‘Šæ¨æ’­</button>
            </nav>
            <div class="p-4 border-t border-slate-800"><button onclick="location.reload()" class="w-full bg-slate-800 hover:bg-red-500 text-slate-300 hover:text-white py-3 rounded-xl font-bold transition">å®‰å…¨ç™»å‡º</button></div>
        </aside>

        <main class="flex-1 overflow-y-auto w-full p-4 md:p-8 bg-slate-50">
            <div class="grid grid-cols-3 gap-3 mb-8 md:hidden">
                <button onclick="st('pend')" id="m-pend" class="m-btn active flex flex-col items-center justify-center py-4 bg-slate-900 text-white rounded-2xl shadow-md border border-transparent transition-all"><span class="text-3xl mb-1.5 drop-shadow-md">ğŸ”´</span><span class="m-text text-xs font-black tracking-widest">å¾…è¾¦å¯©æ ¸</span></button>
                <button onclick="st('pay')" id="m-pay" class="m-btn flex flex-col items-center justify-center py-4 bg-white text-slate-500 rounded-2xl border border-slate-200 transition-all shadow-sm"><span class="text-3xl mb-1.5 drop-shadow-sm">ğŸ’°</span><span class="m-text text-xs font-bold tracking-widest">è–ªè³‡åŒ¯æ¬¾</span></button>
                <button onclick="st('emps')" id="m-emps" class="m-btn flex flex-col items-center justify-center py-4 bg-white text-slate-500 rounded-2xl border border-slate-200 transition-all shadow-sm"><span class="text-3xl mb-1.5 drop-shadow-sm opacity-80">ğŸ‘¥</span><span class="m-text text-xs font-bold tracking-widest">å“¡å·¥/é›¢è·</span></button>
                <button onclick="st('att')" id="m-att" class="m-btn flex flex-col items-center justify-center py-4 bg-white text-slate-500 rounded-2xl border border-slate-200 transition-all shadow-sm"><span class="text-3xl mb-1.5 drop-shadow-sm opacity-80">ğŸ“‹</span><span class="m-text text-xs font-bold tracking-widest">å‡ºå‹¤ç´€éŒ„</span></button>
                <button onclick="st('brs')" id="m-brs" class="m-btn flex flex-col items-center justify-center py-4 bg-white text-slate-500 rounded-2xl border border-slate-200 transition-all shadow-sm"><span class="text-3xl mb-1.5 drop-shadow-sm opacity-80">ğŸ“</span><span class="m-text text-xs font-bold tracking-widest">æ“šé»ç®¡ç†</span></button>
                <button onclick="st('bull')" id="m-bull" class="m-btn flex flex-col items-center justify-center py-4 bg-white text-slate-500 rounded-2xl border border-slate-200 transition-all shadow-sm"><span class="text-3xl mb-1.5 drop-shadow-sm opacity-80">ğŸ“¢</span><span class="m-text text-xs font-bold tracking-widest">ä¼æ¥­å…¬å‘Š</span></button>
            </div>

            <section id="pend" class="tab-content active space-y-6 max-w-4xl">
                <div><h3 class="font-black text-slate-800 border-l-4 border-blue-500 pl-3 text-lg mb-3">æ–°é€²å“¡å·¥å¯©æ ¸</h3><div id="list-pend" class="space-y-3"></div></div>
                <div><h3 class="font-black text-slate-800 border-l-4 border-amber-500 pl-3 text-lg mb-3">ç°½æ ¸ä¸­å¿ƒ</h3><div id="list-leaves" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div>
            </section>
